(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a3df472"],{3233:function(e,t,n){"use strict";var i=n("a8de"),r=n.n(i);r.a},"61d9":function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return f}));var i=n("b7e2"),r=n("4328"),a=n.n(r),o=(n("4360"),n("a18c"));function l(){return Object(i["a"])({url:"/Role/GetRoles",method:"get"})}function s(e){return Object(i["a"])({url:"/Role/AddRole",method:"post",data:a.a.stringify(e)})}function c(e){return Object(i["a"])({url:"/Role/AddUserRouter",method:"post",data:a.a.stringify(e)})}function u(e){return Object(i["a"])({url:"/Role/Edit",method:"post",data:a.a.stringify(e)})}function d(e){return Object(i["a"])({url:"/Role/DeleteRole",method:"post",data:a.a.stringify(e)})}function f(){return o["a"]}},"8dea":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-button",{attrs:{type:"primary"},on:{click:e.handleAddRole}},[e._v("New Role")]),e._v(" "),n("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.rolesList,border:""}},[n("el-table-column",{attrs:{align:"center",label:"Role Id",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.id)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"Role Name",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"header-center",label:"NormalizedName"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.normalizedName)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"Operations"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.handleEdit(t)}}},[e._v("Edit")]),e._v(" "),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(n){return e.handleDelete(t)}}},[e._v("Delete")])]}}])})],1),e._v(" "),n("el-dialog",{attrs:{visible:e.dialogVisible,title:"edit"===e.dialogType?"Edit Role":"New Role"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{attrs:{model:e.role,"label-width":"80px","label-position":"left"}},[n("el-form-item",{attrs:{label:"Name"}},[n("el-input",{attrs:{placeholder:"Role Name"},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Desc"}},[n("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"Role Description"},model:{value:e.role.normalizedName,callback:function(t){e.$set(e.role,"normalizedName",t)},expression:"role.normalizedName"}})],1)],1),e._v(" "),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.confirmRole}},[e._v("Confirm")])],1)],1)],1)},r=[],a=(n("7f7f"),n("96cf"),n("1da1")),o=(n("df7c"),n("ed08")),l=n("61d9"),s={id:"",name:"",normalizedName:""},c={data:function(){return{role:Object.assign({},s),rolesList:[],dialogVisible:!1,dialogType:"new",checkStrictly:!1,defaultProps:{children:"children",label:"title"}}},created:function(){this.GetRoles()},methods:{GetRoles:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["e"])();case 2:t=e.sent,this.rolesList=t;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleAddRole:function(){this.role=Object.assign({},s),this.dialogType="new",this.dialogVisible=!0},handleEdit:function(e){var t=this;this.dialogType="edit",this.dialogVisible=!0,this.checkStrictly=!0,this.role=Object(o["b"])(e.row),this.$nextTick((function(){t.checkStrictly=!1}))},handleDelete:function(e){var t=this,n=e.$index,i=e.row;this.$confirm("Confirm to remove the role?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["c"])(i);case 2:t.rolesList.splice(n,1),t.$message({type:"success",message:"Delete succed!"});case 4:case"end":return e.stop()}}),e)})))).catch((function(e){console.error(e)}))},confirmRole:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,i,r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="edit"===this.dialogType,!t){e.next=14;break}return e.next=4,Object(l["d"])(this.role);case 4:n=0;case 5:if(!(n<this.rolesList.length)){e.next=12;break}if(this.rolesList[n].Id!==this.role.Id){e.next=9;break}return this.rolesList.splice(n,1,Object.assign({},this.role)),e.abrupt("break",12);case 9:n++,e.next=5;break;case 12:e.next=19;break;case 14:return e.next=16,Object(l["a"])(this.role);case 16:i=e.sent,this.role.Id=i.Id,this.rolesList.push(this.role);case 19:r=this.role,a=r.description,r.id,o=r.name,this.dialogVisible=!1,this.$notify({title:"Success",dangerouslyUseHTMLString:!0,message:"\n            <div>Role Id: ".concat(Id,"</div>\n            <div>Role Name: ").concat(o,"</div>\n            <div>Description: ").concat(a,"</div>\n          "),type:"success"});case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},u=c,d=(n("3233"),n("2877")),f=Object(d["a"])(u,i,r,!1,null,"5d9a39de",null);t["default"]=f.exports},a8de:function(e,t,n){}}]);